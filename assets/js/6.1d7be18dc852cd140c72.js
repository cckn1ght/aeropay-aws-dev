webpackJsonp([6],{1347:function(t,e,a){a(1388);var s=a(22)(a(1372),a(1402),"data-v-2aae28bc",null);t.exports=s.exports},1372:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(24),n=a(93),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};e.default={data:function(){return{customers:[],paging:{},sorting:{},keyword:"",loading:!1}},beforeMount:function(){this.searchCustomers()},methods:{searchCustomers:function(){var t=this,e={keyword:this.keyword.trim(),page:this.page};a.i(n.h)(this.apiClient,this.merchant.merchantId,e).then(function(e){var a=e.data;console.log(a),t.customers=a.customers,t.paging=a.paging,t.sorting=a.sorting}).catch(function(t){console.log(t)})},nameFormater:function(t,e){return t.firstName+" "+t.lastName},amountFormater:function(t,e){return"$"+parseFloat(t.amount).toFixed(2)}},computed:r({},a.i(s.mapGetters)(["apiClient","merchant"]),{cus_num:function(){return this.customers.length*this.page},page:function(){return parseInt(this.$route.params.page)},onLastPage:function(){return this.paging.totalPages===this.page},totalItems:function(){return this.paging.totalItems||""},totalPages:function(){return this.paging.totalPages||""}}),watch:{$route:function(t,e){this.customers=[],this.searchCustomers()}}}},1379:function(t,e,a){e=t.exports=a(1339)(!0),e.push([t.i,".cus_num[data-v-2aae28bc]{margin:13px 0 5px 10px;font-size:18px;padding-left:10px;display:inline}.total_pages[data-v-2aae28bc]{display:inline;margin-left:50px}.search-box[data-v-2aae28bc]{margin-bottom:15px}","",{version:3,sources:["/Users/qhsong/Projects/aeroPay-web/client/views/customers/index.vue"],names:[],mappings:"AACA,0BAA0B,uBAAyB,eAAe,kBAAkB,cAAc,CACjG,AACD,8BAA8B,eAAe,gBAAgB,CAC5D,AACD,6BAA6B,kBAAkB,CAC9C",file:"index.vue",sourcesContent:["\n.cus_num[data-v-2aae28bc]{margin:13px 0px 5px 10px;font-size:18px;padding-left:10px;display:inline\n}\n.total_pages[data-v-2aae28bc]{display:inline;margin-left:50px\n}\n.search-box[data-v-2aae28bc]{margin-bottom:15px\n}\n"],sourceRoot:""}])},1388:function(t,e,a){var s=a(1379);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(1340)("066ebd22",s,!0)},1402:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-box"},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control is-expanded has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"input",attrs:{type:"text",placeholder:"search customers"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),t._m(0,!1,!1)]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){e.preventDefault(),t.searchCustomers(e)}}},[t._v("\n          Search\n        ")])])])]),t._v(" "),a("article",{staticClass:"box"},[a("p",{staticClass:"cus_num"},[t._v(t._s(t.cus_num+"/"+t.totalItems)+" Customers")]),t._v(" "),a("p",{staticClass:"total_pages"},[t._v(t._s(t.page+"/"+t.totalPages)+" pages")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.customers}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"firstName",label:"name",sortable:"",width:"180",formatter:t.nameFormater}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"email",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"merchant",label:"merchant",sortable:"",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"amount",label:"amount",sortable:"",width:"100",formatter:t.amountFormater}})],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-offset-4 is-4 has-text-centered"},[t.page>1?a("router-link",{staticClass:"button is-success",attrs:{to:"/customers/"+(t.page-1)}},[t._v("previous page")]):t._e(),t._v(" "),t.onLastPage?t._e():a("router-link",{staticClass:"button is-primary",attrs:{to:"/customers/"+(t.page+1)}},[t._v("next page")])],1)])],1),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br")])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fa fa-search"})])}]}}});
//# sourceMappingURL=6.1d7be18dc852cd140c72.js.map